if (hasRealData) {
                            val.enroll = getCount(enrollmentCounts);
                            val.withdraw = getCount(withdrawalCounts);
                            val.recess = getCount(recessCounts);
                            val.return = getCount(returnCounts);
                            val.transfer = getCount(transferCounts);
                            val.graduate = getCount(graduateCounts);
                        } else {
                            // モックモード
                            val.enroll = Math.floor(10 * scale * seasonality * 0.8);
                            val.withdraw = Math.floor(Math.random() * 2);
                            // 3月(idx=11)のみ卒業生をモックで追加
                            val.graduate = idx === 11 ? Math.floor(5 * scale) : 0;
                        }

                        // ■ 日次データ生成
                        const daily = Array.from({ length: 30 }, (_, dIdx) => {
                            const dayNum = dIdx + 1;
                            
                            const getDayCount = (daysObj) => (daysObj[dayNum] || 0);
                            
                            // リアルデータがあれば日次マップから取得
                            const dEnroll = hasRealData ? getDayCount(getDays(enrollmentCounts)) : 0;
                            const dWithdraw = hasRealData ? getDayCount(getDays(withdrawalCounts)) : 0;
                            const dRecess = hasRealData ? getDayCount(getDays(recessCounts)) : 0;
                            const dReturn = hasRealData ? getDayCount(getDays(returnCounts)) : 0;
                            const dTransfer = hasRealData ? getDayCount(getDays(transferCounts)) : 0;
                            const dGraduate = hasRealData ? getDayCount(getDays(graduateCounts)) : 0;

                            return {
                                name: `${dayNum}日`,
                                budgetRevenue: Math.floor(monthlyBudget / 30),
                                actualRevenue: Math.floor(monthlyActual / 30),
                                newEnrollments: dEnroll,
                                withdrawals: dWithdraw,
                                recesses: dRecess,
                                returns: dReturn,
                                transfers: dTransfer,
                                graduates: dGraduate,
                                flyers: Math.floor(monthlyFlyers / 30),
                                totalStudents: currentStudents 
                            };
                        });

                        // ■ 週次データ生成
                        const weekly = Array.from({ length: 4 }, (_, wIdx) => {
                            const startDay = wIdx * 7 + 1;
                            const endDay = wIdx === 3 ? 31 : (wIdx + 1) * 7;
                            
                            let wVal = { enroll: 0, withdraw: 0, recess: 0, return: 0, transfer: 0, graduate: 0 };
                            
                            for (let i = startDay - 1; i < endDay && i < 30; i++) {
                                wVal.enroll += daily[i].newEnrollments;
                                wVal.withdraw += daily[i].withdrawals;
                                wVal.recess += daily[i].recesses;
                                wVal.return += daily[i].returns;
                                wVal.transfer += daily[i].transfers;
                                wVal.graduate += daily[i].graduates;
                            }

                            if (!hasRealData) {
                                wVal.enroll = Math.floor(val.enroll / 4);
                                // モックの卒業生は最終週に計上
                                if (wIdx === 3) wVal.graduate = val.graduate;
                            }

                             return {
                                name: `第${wIdx + 1}週`,
                                budgetRevenue: Math.floor(monthlyBudget / 4),
                                actualRevenue: Math.floor(monthlyActual / 4),
                                newEnrollments: wVal.enroll,
                                withdrawals: wVal.withdraw,
                                recesses: wVal.recess,
                                returns: wVal.return,
                                transfers: wVal.transfer,
                                graduates: wVal.graduate,
                                flyers: Math.floor(monthlyFlyers / 4),
                                enrollmentRate: "60.0",
                                totalStudents: currentStudents 
                            };
                        });
